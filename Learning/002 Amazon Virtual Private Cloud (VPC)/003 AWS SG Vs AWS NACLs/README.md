# AWS Network Access Control Lists (NACLs) and Security Groups

# AWS NACLs vs. Security Groups: What's the Difference?

| Feature                          | Network Access Control Lists (NACLs)           | Security Groups                               |
|----------------------------------|------------------------------------------------|-----------------------------------------------|
| **Statefulness**                 | NACLs are **stateless**, meaning they don't remember anything about previous requests. Each request is treated like it's the first one. | Security Groups are **stateful**. They remember things like whether a request was allowed, so they automatically allow return traffic without us having to do anything extra. |
| **Where They Work**              | NACLs work at the **subnet level**, so they control traffic for all instances in a subnet. | Security Groups work at the **instance level** (or for other specific resources), so they control traffic for individual instances. |
| **Inbound Rules**                | NACLs follow their rules in a specific order, starting from the lowest number. Once a match is found, that's it—no more rules are checked. | Security Groups check all their rules, and if any rule allows the traffic, it's allowed in. They don’t care about the order. |
| **Outbound Rules**               | With NACLs, we need to set up rules for **both** inbound and outbound traffic. If we want traffic to go out, we have to explicitly allow it. | Security Groups automatically allow return traffic if it was allowed in. So if someone connects in, their responses are allowed out without extra rules. |
| **Default Settings**             | By default, the NACL that comes with our VPC allows everything in and out. But if we create a new NACL, it blocks everything until we set up rules. | The default Security Group blocks everything from coming in, but it allows everything to go out unless we say otherwise. |
| **How Rules Are Ordered**        | NACLs have numbered rules, and they check them in order from lowest to highest. The first rule that matches gets applied. | Security Groups don’t have rule numbers. They look at all the rules and use the most permissive one that applies. |
| **Logging and Monitoring**       | NACLs don’t keep track of what they block or allow by default. We’ll need to set up something like VPC Flow Logs to see what’s happening. | Security Groups can log changes through AWS CloudTrail, and we can monitor traffic with VPC Flow Logs. |
| **IP Address Filtering**         | NACLs can filter traffic based on specific IP address ranges (CIDR blocks). | Security Groups can also filter traffic based on IP address ranges (CIDR blocks). |
| **Protocol Support**             | NACLs can handle traffic using protocols like TCP, UDP, ICMP, and others. | Security Groups support the same protocols—TCP, UDP, ICMP, and more. |
| **How They’re Assigned**         | Every subnet in a VPC has to be associated with a NACL. If we don’t pick one, it’ll get the default NACL. | Security Groups need to be assigned to specific instances or resources; they’re not automatically applied. |
| **Best Use Case**                | NACLs are great for adding an extra layer of security at the subnet level, especially when we want to control traffic between different subnets. | Security Groups are our go-to for securing individual instances. They’re perfect for managing who can connect to our servers and how. |
| **How They’re Managed**          | NACLs are managed at the subnet level in our VPC. | Security Groups are managed at the instance level or for specific AWS resources. |
| **How Rules Are Applied**        | NACLs apply rules in a set order, and once a match is found, that rule is applied, and the rest are ignored. | Security Groups check all rules at once. If any rule allows the traffic, it’s allowed. |
| **Return Traffic**               | With NACLs, we need to create rules for both incoming and outgoing traffic separately. Return traffic won’t be allowed unless we set up a rule for it. | Security Groups automatically allow return traffic for any inbound connections, so we don’t need to worry about it. |
